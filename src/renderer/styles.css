:root{--bg-0:#07090d;--bg-1:#0b0e14;--bg-2:#101521;--bg-3:#161c2b;--b0:rgba(255,255,255,.05);--b1:rgba(255,255,255,.085);--b2:rgba(255,255,255,.16);--t0:rgba(255,255,255,.90);--t1:rgba(255,255,255,.58);--t2:rgba(255,255,255,.34);--t3:rgba(255,255,255,.16);--ac:#67b7ff;--ac-dim:rgba(103,183,255,.11);--ac-bd:rgba(103,183,255,.26);--glow-1:rgba(103,183,255,.14);--glow-2:rgba(122,92,255,.10);--g-bg:rgba(9,11,16,.72);--blur:blur(18px) saturate(165%);--r:10px;--r-sm:7px;--r-lg:14px;--sh:0 18px 60px rgba(0,0,0,.55);--sb:210px;--sb-c:54px;--tb:32px;--font-ui:'IBM Plex Sans','Noto Sans SC',sans-serif;--font-display:'Saira Semi Condensed','Noto Sans SC',sans-serif;--font-mono:'DM Mono',monospace;--dur-1:.12s;--dur-2:.20s;--dur-3:.32s;--ease-in:cubic-bezier(.2,.8,.2,1);--ease-out:cubic-bezier(.4,0,.2,1);color-scheme:dark}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%;overflow:hidden;font-family:var(--font-ui);font-size:13px;line-height:1.55;background:var(--bg-0);color:var(--t0);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
body::before{content:'';position:fixed;inset:-120px;pointer-events:none;z-index:-2;background:radial-gradient(900px 540px at 18% -12%,var(--glow-1),transparent 62%),radial-gradient(880px 620px at 115% 8%,var(--glow-2),transparent 58%),radial-gradient(760px 520px at 50% 120%,rgba(255,255,255,.05),transparent 60%),linear-gradient(180deg,#07090d 0%,#06070b 44%,#05060a 100%)}
body::after{content:'';position:fixed;inset:0;pointer-events:none;z-index:-1;opacity:.10;mix-blend-mode:overlay;background-image:repeating-linear-gradient(0deg,rgba(255,255,255,.028) 0 1px,transparent 1px 4px),repeating-linear-gradient(90deg,rgba(255,255,255,.018) 0 1px,transparent 1px 6px)}
button,input,select,textarea{font:inherit}
:focus-visible{outline:none;box-shadow:0 0 0 3px var(--ac-dim)}
.app{display:flex;flex-direction:column;height:100vh;width:100vw;overflow:hidden}
.app.immersive .sidebar{width:0}
.app.immersive .sb-tog{display:none}
.app.immersive #subarea{display:none}
.app.immersive .topbar{background:transparent;border-bottom:none}
.app.immersive .content{padding:0}
.app.immersive .statusbar{opacity:.65}
.titlebar{height:var(--tb);flex-shrink:0;display:flex;align-items:center;padding:0 12px;background:var(--g-bg);backdrop-filter:var(--blur);border-bottom:1px solid var(--b0);-webkit-app-region:drag;z-index:100;position:relative}
.traf{display:flex;gap:6px;-webkit-app-region:no-drag}
.traf-dot{width:11px;height:11px;border-radius:50%;cursor:pointer;transition:filter .15s}
.traf-dot:hover{filter:brightness(1.2)}
.traf-dot.cl{background:#ff5f57}.traf-dot.mn{background:#febc2e}.traf-dot.mx{background:#28c840}
.tb-mid{position:absolute;left:50%;transform:translateX(-50%);font-size:11.5px;color:var(--t2);font-family:var(--font-mono);letter-spacing:.04em;pointer-events:none}
.tb-right{margin-left:auto;display:flex;gap:5px;-webkit-app-region:no-drag}
.tb-pill{height:20px;padding:0 8px;border-radius:5px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0));color:var(--t2);font-size:10.5px;font-family:var(--font-mono);display:flex;align-items:center;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.tb-pill:hover{color:var(--t0);border-color:var(--b2)}
.tb-pill:active{transform:translateY(1px)}
.body{flex:1;display:flex;overflow:hidden}
.sidebar{width:var(--sb);flex-shrink:0;height:100%;display:flex;flex-direction:column;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0) 22%),linear-gradient(180deg,var(--bg-1),rgba(11,14,20,.86));border-right:1px solid var(--b0);transition:width var(--dur-3) var(--ease-out);overflow:hidden;position:relative;-webkit-app-region:no-drag}
.sidebar.collapsed{width:var(--sb-c)}
.sb-tog{position:absolute;right:-10px;top:24px;width:20px;height:20px;border-radius:50%;background:var(--g-bg);backdrop-filter:var(--blur);border:1px solid var(--b1);color:var(--t1);font-size:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1);box-shadow:var(--sh)}
.sb-tog:hover{color:var(--t0);border-color:var(--b2)}
.sb-tog:active{transform:translateY(1px)}
.sb-account{padding:12px 10px;border-bottom:1px solid var(--b0);display:flex;align-items:center;gap:8px;cursor:pointer;transition:background .13s;flex-shrink:0;min-height:54px;overflow:hidden}
.sb-account:hover{background:var(--bg-3)}
.sb-av{width:30px;height:30px;border-radius:var(--r-sm);flex-shrink:0;background:var(--ac);display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:600;color:#fff;letter-spacing:-.02em;position:relative;overflow:hidden}
.av-img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:inherit}
.sb-acc-info{overflow:hidden;flex:1;min-width:0}
.sb-acc-name{font-size:12.5px;font-weight:500;color:var(--t0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sb-acc-sub{font-size:11px;color:var(--t2);white-space:nowrap}
.sb-acc-arr{color:var(--t2);font-size:11px;flex-shrink:0;transition:opacity .2s}
.sidebar.collapsed .sb-acc-info,.sidebar.collapsed .sb-acc-arr{opacity:0}
.sb-nav{flex:1;padding:8px 6px;display:flex;flex-direction:column;gap:1px;overflow:hidden}
.sb-item{display:flex;align-items:center;gap:8px;padding:7px 8px;border-radius:var(--r-sm);cursor:pointer;transition:transform var(--dur-1),background var(--dur-1),color var(--dur-1),border-color var(--dur-1);color:var(--t1);white-space:nowrap;min-height:32px;position:relative}
.sb-item:hover{background:var(--bg-3);color:var(--t0)}
.sb-item:active{transform:translateY(1px)}
.sb-item.active{background:var(--ac-dim);color:var(--ac)}
.sb-item.active::before{content:'';position:absolute;left:0;top:7px;bottom:7px;width:2.5px;border-radius:2px;background:var(--ac)}
.sb-ico{width:16px;text-align:center;font-size:15px;flex-shrink:0;line-height:1}
.sb-lbl{font-size:12.5px;font-weight:400;flex:1;overflow:hidden;transition:opacity .2s,max-width .28s;max-width:160px}
.sidebar.collapsed .sb-lbl{opacity:0;max-width:0}
.sb-foot{border-top:1px solid var(--b0);padding:6px 6px;flex-shrink:0;display:flex;flex-direction:column;gap:1px}
.main{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0;position:relative;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent 18%)}
.topbar{height:var(--tb);flex-shrink:0;display:flex;align-items:center;gap:8px;padding:0 12px;background:var(--g-bg);backdrop-filter:var(--blur);border-bottom:1px solid var(--b0)}
.page-title{font-size:13px;font-weight:600;color:var(--t0);flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.search-box{flex:1;max-width:420px;display:flex;align-items:center;gap:8px;height:28px;padding:0 10px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));transition:border-color var(--dur-2),box-shadow var(--dur-2),background var(--dur-2)}
.search-box:focus-within{border-color:var(--ac-bd);box-shadow:0 0 0 3px var(--ac-dim);background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,0))}
.sico{width:16px;text-align:center;font-size:14px;color:var(--t2);flex-shrink:0}
.search-box input{flex:1;min-width:0;background:transparent;border:0;outline:0;color:var(--t0);font-size:12.5px}
.search-box input::placeholder{color:var(--t3)}
.tb-actions{display:flex;gap:6px;flex-shrink:0}

.detail-tabs{display:flex;gap:18px;border-bottom:1px solid var(--b0);padding:0 4px;margin-bottom:12px}
.detail-tab{padding:10px 0;font-size:12.5px;font-weight:500;color:var(--t2);cursor:pointer;position:relative;transition:color var(--dur-1)}
.detail-tab:hover{color:var(--t1)}
.detail-tab.active{color:var(--ac)}
.detail-tab.active::after{content:'';position:absolute;left:0;right:0;bottom:-1px;height:2px;background:var(--ac);border-radius:2px}

.ico-btn{width:28px;height:28px;border-radius:8px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1);flex-shrink:0}
.ico-btn:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.ico-btn:active{transform:translateY(1px)}
.ico-btn.hidden{display:none}

#subarea{flex-shrink:0;min-height:0}
.subnav{display:flex;align-items:center;gap:4px;padding:4px 12px;border-bottom:1px solid var(--b0);background:var(--bg-1);overflow-x:auto}
.subnav::-webkit-scrollbar{display:none}
.subnav-item{height:28px;padding:0 12px;border-radius:8px;color:var(--t2);font-size:12px;font-weight:500;display:flex;align-items:center;cursor:pointer;transition:background var(--dur-1),color var(--dur-1);white-space:nowrap}
.subnav-item:hover{background:var(--bg-3);color:var(--t1)}
.subnav-item.active{background:var(--ac-dim);color:var(--ac)}
.top-btn{height:28px;padding:0 12px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);font-size:12px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.top-btn:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.top-btn:active{transform:translateY(1px)}
.content{flex:1;overflow:auto;padding:18px 20px 28px}
.content::-webkit-scrollbar{width:6px}
.content::-webkit-scrollbar-thumb{background:var(--b1);border-radius:3px}
.statusbar{height:22px;flex-shrink:0;display:flex;align-items:center;gap:10px;padding:0 12px;background:var(--bg-1);border-top:1px solid var(--b0);font-size:11px;color:var(--t2);font-family:var(--font-mono)}
.statusbar.error{color:#f87171}
.grid,.vgrid,.imasonry{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
.card,.vcard,.icard{position:relative;border-radius:var(--r);border:1px solid var(--b0);background:var(--bg-2);overflow:hidden;cursor:pointer;transition:transform var(--dur-2) var(--ease-out),border-color var(--dur-2),box-shadow var(--dur-2)}
.card:hover,.vcard:hover,.icard:hover{transform:translateY(-2px);border-color:var(--b2);box-shadow:0 18px 60px rgba(0,0,0,.55)}

.card-thumb,.vthumb,.ithumb{aspect-ratio:16/9;background:var(--bg-0);position:relative;overflow:hidden}
.vthumb-bg{position:absolute;inset:0;background-size:cover;background-position:center;transition:transform var(--dur-3) var(--ease-out)}
.vcard:hover .vthumb-bg{transform:scale(1.04)}

.card-thumb img,.ithumb img{width:100%;height:100%;object-fit:cover;transition:transform var(--dur-3) var(--ease-out),opacity var(--dur-2)}
.card:hover .card-thumb img,.icard:hover .ithumb img{transform:scale(1.04)}

.card-type,.vrat{position:absolute;left:8px;top:8px;height:18px;padding:0 8px;border-radius:999px;background:rgba(9,11,16,.72);backdrop-filter:var(--blur);border:1px solid rgba(255,255,255,.12);font-size:10px;color:var(--t1);display:flex;align-items:center;gap:4px;z-index:2}
.vrat.r{border-color:rgba(248,113,113,.4);color:#f87171}
.vrat.e{border-color:rgba(251,191,36,.4);color:#fbbf24}
.vrat.g{border-color:rgba(74,222,128,.4);color:#4ade80}

.card-time,.vdur{position:absolute;right:8px;bottom:8px;height:18px;padding:0 8px;border-radius:999px;background:rgba(9,11,16,.72);backdrop-filter:var(--blur);border:1px solid rgba(255,255,255,.12);font-size:10px;color:var(--t1);z-index:2}

.card-info,.vbody,.ifoot{padding:10px 12px 12px}
.card-title,.vtitle,.ititle{font-size:12.5px;font-weight:500;color:var(--t0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px}
.card-sub,.vmeta,.ifoot-sub{font-size:11px;color:var(--t2);display:flex;align-items:center;gap:6px}
.vauthor{display:flex;align-items:center;gap:6px;flex:1;min-width:0}
.vav{width:18px;height:18px;border-radius:5px;background:var(--ac);display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;color:#fff;position:relative;overflow:hidden;flex-shrink:0}
.vlikes{margin-left:auto;font-family:var(--font-mono);opacity:.8}

.icount{margin-left:auto;font-family:var(--font-mono);opacity:.8}

.card-sub .ulink{color:var(--t1)}
.card-sub .ulink:hover{color:var(--t0)}
.card-actions{position:absolute;right:8px;top:8px;display:flex;gap:6px;opacity:0;transform:translateY(-4px);transition:opacity var(--dur-2),transform var(--dur-2)}
.card:hover .card-actions{opacity:1;transform:translateY(0)}
.card-btn{width:26px;height:26px;border-radius:8px;background:rgba(9,11,16,.72);backdrop-filter:var(--blur);border:1px solid rgba(255,255,255,.12);color:var(--t1);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.card-btn:hover{border-color:rgba(255,255,255,.20);color:var(--t0);background:rgba(9,11,16,.9)}
.card-btn:active{transform:translateY(1px)}
.sh{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
.sh-t{font-size:14px;font-weight:600;color:var(--t0);letter-spacing:-.01em}
.sh-c{font-size:11px;color:var(--t2);font-family:var(--font-mono)}
.sh-more{height:26px;padding:0 12px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);font-size:11px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.sh-more:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.sh-more:active{transform:translateY(1px)}
.ulink{color:var(--ac);text-decoration:none;cursor:pointer}
.ulink:hover{text-decoration:underline}
.page-container,.history-page{max-width:1200px;margin:0 auto}
.loading-more{display:flex;align-items:center;justify-content:center;padding:20px 0;color:var(--t2);font-size:12px}
.back-to-top{position:fixed;right:20px;bottom:28px;width:40px;height:40px;border-radius:12px;background:var(--g-bg);backdrop-filter:var(--blur);border:1px solid var(--b1);color:var(--t1);display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transform:translateY(10px);pointer-events:none;transition:opacity var(--dur-2),transform var(--dur-2),border-color var(--dur-1),color var(--dur-1),background var(--dur-1);z-index:50}
.back-to-top.visible{opacity:1;transform:translateY(0);pointer-events:auto}
.back-to-top:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.back-to-top:active{transform:translateY(1px)}
.profile-header{display:flex;align-items:center;gap:14px;padding:18px 18px 16px;border:1px solid var(--b0);border-radius:var(--r-lg);background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0) 38%),var(--bg-2);margin-bottom:14px}
.profile-av{width:64px;height:64px;border-radius:var(--r);background:var(--ac);display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:700;color:#fff;letter-spacing:-.02em;position:relative;overflow:hidden;flex-shrink:0}
.profile-info{flex:1;min-width:0}
.profile-name{font-size:18px;font-weight:700;color:var(--t0);letter-spacing:-.01em;font-family:var(--font-display)}
.profile-meta{font-size:12px;color:var(--t2);margin-top:4px}
.profile-stats{display:flex;gap:18px}
.profile-stat{text-align:center;cursor:pointer;transition:opacity .15s}
.profile-stat:hover{opacity:.85}
.profile-stat-n{font-size:16px;font-weight:700;color:var(--t0);font-family:var(--font-display)}
.profile-stat-l{font-size:11px;color:var(--t2);margin-top:2px}
.create-page{max-width:720px;margin:0 auto}
.create-sub{font-size:13px;font-weight:600;color:var(--t0);letter-spacing:-.01em;margin-bottom:10px}
.create-btn{height:34px;padding:0 16px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t0);font-size:12px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),filter var(--dur-1),background var(--dur-1)}
.create-btn:hover{border-color:var(--b2);filter:brightness(1.06);background:var(--bg-3)}
.create-btn:active{transform:translateY(1px)}
.flist{display:flex;flex-direction:column;gap:6px}
.fitem{display:flex;align-items:center;gap:12px;padding:12px;border-radius:var(--r-sm);border:1px solid transparent;background:transparent;cursor:pointer;transition:transform var(--dur-1),background var(--dur-1),border-color var(--dur-1);width:100%}
.fitem:hover{background:var(--bg-3);border-color:var(--b1)}
.fitem:active{transform:translateY(1px)}
.fitem.unread{background:rgba(103,183,255,.08);border-color:rgba(103,183,255,.18)}
.fav{width:34px;height:34px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0)),var(--bg-2);border:1px solid rgba(255,255,255,.10);display:flex;align-items:center;justify-content:center;color:var(--t1);font-weight:700;letter-spacing:-.02em;font-size:12px;flex-shrink:0;position:relative;overflow:hidden}
.fbody{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}
.ftitle{font-size:12.5px;font-weight:500;color:var(--t0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.fsub{font-size:11px;color:var(--t2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px}
.fright{font-size:11px;color:var(--t2);font-family:var(--font-mono);flex-shrink:0}

.toggle{width:36px;height:20px;border-radius:999px;background:var(--bg-3);border:1px solid var(--b1);position:relative;cursor:pointer;transition:background var(--dur-2),border-color var(--dur-2);flex-shrink:0}
.toggle::after{content:'';position:absolute;left:3px;top:3px;width:12px;height:12px;border-radius:50%;background:var(--t2);transition:transform var(--dur-2),background var(--dur-2)}
.toggle.on{background:var(--ac-dim);border-color:var(--ac-bd)}
.toggle.on::after{transform:translateX(16px);background:var(--ac)}
.detail-actions{display:flex;gap:8px}
.detail-btn{width:28px;height:28px;border-radius:8px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.detail-btn:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.detail-btn:active{transform:translateY(1px)}
.detail-loading{padding:20px 0;color:var(--t2);text-align:center}
.detail-meta{margin-bottom:10px}
.detail-sub{font-size:11px;color:var(--t2);font-family:var(--font-mono)}
.detail-video{width:100%;aspect-ratio:16/9;background:var(--bg-0);border:1px solid var(--b0);border-radius:var(--r);overflow:hidden;margin-bottom:10px}
.detail-video-el{width:100%;height:100%;display:block;background:#000}
.detail-iframe{width:100%;height:100%;border:0;display:block;background:#000}
.detail-bar{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.detail-select{height:28px;border-radius:6px;border:1px solid var(--b1);background:var(--bg-2);color:var(--t0);padding:0 10px;outline:none}
.detail-link{height:28px;display:flex;align-items:center;padding:0 10px;border-radius:6px;border:1px solid var(--b1);background:var(--bg-2);color:var(--t1);text-decoration:none;transition:all .13s}
.detail-link:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.detail-desc{margin-top:10px;padding:12px 14px;border-radius:var(--r);border:1px solid var(--b0);background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0)),var(--bg-2);color:var(--t1);line-height:1.8}
.watch-page.thread .detail-desc{font-size:13.5px;line-height:1.9;color:var(--t0);border-color:rgba(255,255,255,.06)}
.watch-page.thread .sh-t{font-size:15px;font-weight:700;letter-spacing:-.01em;font-family:var(--font-display)}
.thread-meta{margin:-4px 0 14px}
.thread-reader{max-width:880px;margin:0 auto;padding:28px 26px 44px}
.thread-page{max-width:980px;margin:0 auto;padding:28px 22px 48px}
.thread-hero{margin-bottom:16px}
.thread-hero-inner{border:1px solid rgba(255,255,255,.07);border-radius:var(--r-lg);padding:18px 18px 16px;background:radial-gradient(980px 520px at 20% 0%,rgba(103,183,255,.10),transparent 52%),radial-gradient(820px 520px at 120% 0%,rgba(122,92,255,.09),transparent 58%),linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0) 38%),var(--bg-2);box-shadow:0 28px 88px rgba(0,0,0,.55)}
.thread-title{font-size:18px;line-height:1.3;letter-spacing:-.02em;font-weight:750;color:var(--t0);font-family:var(--font-display)}
.thread-sub{margin-top:8px;font-size:11px;color:var(--t2);font-family:var(--font-mono)}
.thread-floors{display:flex;flex-direction:column;gap:10px}
.floor{display:grid;grid-template-columns:64px 1fr;gap:12px;align-items:start}
.floor-rail{position:relative;display:flex;flex-direction:column;align-items:center;gap:8px;padding-top:6px}
.floor-rail::after{content:'';position:absolute;top:44px;bottom:-10px;width:1px;background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,0));opacity:.55}
.floor:last-child .floor-rail::after{display:none}
.floor-no{width:54px;height:24px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(9,11,16,.55);backdrop-filter:blur(10px) saturate(140%);color:var(--t1);font-family:var(--font-mono);font-size:10.5px;display:flex;align-items:center;justify-content:center;text-decoration:none;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),filter var(--dur-1)}
.floor-no:hover{border-color:rgba(255,255,255,.22);color:var(--t0);filter:brightness(1.08)}
.floor-no:active{transform:translateY(1px)}
.floor-av{width:34px;height:34px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0)),var(--bg-2);border:1px solid rgba(255,255,255,.10);display:flex;align-items:center;justify-content:center;color:var(--t1);font-weight:700;letter-spacing:-.02em;position:relative;overflow:hidden}
.floor-card{border:1px solid rgba(255,255,255,.08);border-radius:var(--r-lg);background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0) 32%),var(--bg-2);padding:14px 16px 16px;transition:transform var(--dur-2) var(--ease-out),border-color var(--dur-2),background var(--dur-2),box-shadow var(--dur-2)}
.floor:hover .floor-card{border-color:rgba(255,255,255,.14);transform:translateY(-1px);box-shadow:0 18px 60px rgba(0,0,0,.45)}
.floor:target .floor-card{border-color:var(--ac-bd);box-shadow:0 0 0 3px var(--ac-dim),0 18px 60px rgba(0,0,0,.45)}
.floor-head{display:flex;align-items:baseline;gap:10px;margin-bottom:10px}
.floor-user{font-size:11px;color:var(--t1);font-family:var(--font-mono)}
.floor-time{font-size:10px;color:var(--t2);font-family:var(--font-mono)}
.floor-tag{margin-left:auto;font-size:10px;color:var(--t2);font-family:var(--font-mono);text-decoration:none;border:1px solid rgba(255,255,255,.10);border-radius:999px;padding:2px 8px;background:rgba(255,255,255,.02);transition:border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.floor-tag:hover{color:var(--t0);border-color:rgba(255,255,255,.18);background:rgba(255,255,255,.04)}
.floor-body{color:rgba(255,255,255,.84);line-height:1.95;font-size:13.5px;word-break:break-word}
.thread-footer{margin-top:16px;display:flex;flex-direction:column;gap:12px}
.thread-more{height:34px;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0)),var(--bg-2);color:var(--t1);cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.thread-more:hover{border-color:rgba(255,255,255,.18);color:var(--t0);background:var(--bg-3)}
.thread-more:active{transform:translateY(1px)}
.thread-compose{border:1px solid rgba(255,255,255,.09);border-radius:var(--r-lg);padding:16px;background:radial-gradient(720px 360px at 20% 0%,rgba(103,183,255,.08),transparent 62%),linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0) 38%),var(--bg-2)}
.thread-compose-title{font-size:11px;color:var(--t2);font-family:var(--font-mono);margin-bottom:10px}
.thread-text{width:100%;min-height:96px;resize:vertical;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(7,9,13,.55);backdrop-filter:blur(10px) saturate(140%);padding:12px 12px;color:var(--t0);outline:none;font-family:var(--font-ui);transition:border-color var(--dur-2),box-shadow var(--dur-2),background var(--dur-2)}
.thread-text:focus{border-color:var(--ac-bd);box-shadow:0 0 0 3px rgba(79,168,232,.10)}
.thread-actions{display:flex;align-items:center;gap:10px;margin-top:10px}
.thread-check{display:flex;align-items:center;gap:6px;font-size:11px;color:var(--t2);user-select:none}
.thread-send{margin-left:auto;height:32px;padding:0 16px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0)),var(--bg-2);color:var(--t0);cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),filter var(--dur-1),background var(--dur-1)}
.thread-send:hover{border-color:rgba(255,255,255,.20);filter:brightness(1.06);background:var(--bg-3)}
.thread-send:active{transform:translateY(1px)}
.detail-image-wrap{position:relative;width:100%;height:min(520px,60vh);background:var(--bg-0);border:1px solid var(--b0);border-radius:var(--r);overflow:hidden;margin-bottom:10px}
.detail-image-stage{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;touch-action:none}
.detail-img{max-width:100%;max-height:100%;transform-origin:center center;user-select:none;pointer-events:auto}
.detail-img-nav{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:0 10px;pointer-events:none}
.detail-btn2{width:34px;height:34px;border-radius:12px;background:rgba(9,11,16,.55);backdrop-filter:blur(10px) saturate(140%);border:1px solid rgba(255,255,255,.18);color:rgba(255,255,255,.86);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;pointer-events:auto;transition:transform var(--dur-1),border-color var(--dur-1),filter var(--dur-1)}
.detail-btn2:hover{filter:brightness(1.08);border-color:rgba(255,255,255,.26)}
.detail-btn2:active{transform:translateY(1px)}
.detail-posts{margin-top:12px;display:flex;flex-direction:column;gap:8px}
.detail-post{border:1px solid var(--b0);background:var(--bg-2);border-radius:var(--r);padding:10px 12px}
.detail-post-h{font-size:11px;color:var(--t2);font-family:var(--font-mono);margin-bottom:6px}
.watch-page{height:100%;display:flex;flex-direction:column;min-height:0}
.watch-top{height:44px;flex-shrink:0;display:flex;align-items:center;gap:10px;padding:0 12px;border-bottom:1px solid var(--b0);background:var(--bg-1)}
.watch-back{width:28px;height:28px;border-radius:6px;border:1px solid var(--b1);background:var(--bg-2);color:var(--t1);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .13s;flex-shrink:0}
.watch-back:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.watch-ttl{font-size:12.5px;font-weight:600;color:var(--t0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.watch-layout{flex:1;min-height:0;display:flex}
.watch-left{flex:1;min-width:0;min-height:0;background:radial-gradient(900px 620px at 18% 0%,rgba(103,183,255,.10),transparent 58%),radial-gradient(760px 520px at 88% 18%,rgba(122,92,255,.09),transparent 55%),#000;position:relative}
.watch-left::after{content:'';position:absolute;inset:0;pointer-events:none;background:radial-gradient(70% 70% at 50% 40%,transparent 40%,rgba(0,0,0,.55) 100%)}
.watch-right{flex:0 0 392px;min-width:320px;max-width:480px;min-height:0;border-left:1px solid var(--b0);background:var(--g-bg);backdrop-filter:var(--blur);display:flex;flex-direction:column;transition:flex-basis var(--dur-3) var(--ease-out)}
.watch-page.thread .watch-left,.watch-page.user .watch-left{background:var(--bg-1);overflow:auto}
.watch-page.thread .watch-left::after,.watch-page.user .watch-left::after{display:none}
.watch-tabs{height:40px;flex-shrink:0;display:flex;align-items:center;gap:6px;padding:0 12px;border-bottom:1px solid rgba(255,255,255,.06)}
.watch-tab{height:24px;padding:0 12px;border-radius:999px;border:1px solid transparent;font-size:11.5px;color:var(--t1);cursor:pointer;transition:transform var(--dur-1),background var(--dur-1),color var(--dur-1),border-color var(--dur-1);white-space:nowrap;display:flex;align-items:center}
.watch-tab:hover{background:var(--bg-3);color:var(--t0)}
.watch-tab.active{background:var(--ac-dim);border-color:var(--ac-bd);color:var(--ac)}
.watch-tab:active{transform:translateY(1px)}
.watch-side-toggle{margin-left:auto;width:28px;height:28px;border-radius:10px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1);flex-shrink:0}
.watch-side-toggle:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.watch-side-toggle:active{transform:translateY(1px)}
.watch-right.collapsed{flex:0 0 44px;min-width:44px;max-width:44px}
.watch-right.collapsed .watch-tab{display:none}
.watch-right.collapsed .watch-panel{display:none}
.watch-right.collapsed .watch-tabs{justify-content:center;padding:0}
.watch-right.collapsed .watch-side-toggle{margin-left:0}
.watch-panel{flex:1;min-height:0;overflow:auto;padding:16px 18px}
.watch-panel::-webkit-scrollbar{width:3px}
.watch-panel::-webkit-scrollbar-thumb{background:var(--b1);border-radius:3px}
.watch-player{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
.watch-player iframe,.watch-player video{width:100%;height:100%;border:0;display:block;background:#000}
.watch-page.video .watch-left,.watch-page.image .watch-left{box-shadow:inset 0 0 0 1px rgba(255,255,255,.06)}
.watch-page.video .watch-player iframe,.watch-page.video .watch-player video{outline:none}
.watch-page.video .watch-player iframe:focus-visible,.watch-page.video .watch-player video:focus-visible{box-shadow:0 0 0 3px var(--ac-dim)}
.watch-player video{object-fit:contain}
.watch-img-wrap{position:absolute;inset:0;background:#000}
.watch-img-stage{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;touch-action:none}
.watch-img{max-width:100%;max-height:100%;transform-origin:center center;user-select:none;pointer-events:auto}
.watch-img-nav{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:0 10px;pointer-events:none}
.watch-img-btn{width:36px;height:36px;border-radius:12px;background:rgba(9,11,16,.55);backdrop-filter:blur(10px) saturate(140%);border:1px solid rgba(255,255,255,.18);color:rgba(255,255,255,.86);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;pointer-events:auto;transition:transform var(--dur-1),border-color var(--dur-1),filter var(--dur-1)}
.watch-img-btn:hover{filter:brightness(1.08);border-color:rgba(255,255,255,.26)}
.watch-img-btn:active{transform:translateY(1px)}
.watch-img-dots{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:6px;pointer-events:none}
.watch-img-dot{width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,.22);transition:background var(--dur-1)}
.watch-img-dot.active{background:rgba(255,255,255,.9)}
.palette-list{display:flex;gap:8px;align-items:center}
.palette-item{width:20px;height:20px;border-radius:50%;cursor:pointer;border:2px solid transparent;transition:transform var(--dur-1),border-color var(--dur-1)}
.palette-item:hover{transform:scale(1.15)}
.palette-item.active{border-color:#fff;box-shadow:0 0 10px var(--ac)}
.palette-item.custom{background:var(--bg-3);border:1px dashed var(--b2);display:flex;align-items:center;justify-content:center;font-size:12px;color:var(--t2)}

.vtitle{font-size:16px;font-weight:700;color:var(--t0);letter-spacing:-.01em;font-family:var(--font-display);margin:10px 0 8px}
.vtitle a{color:inherit;text-decoration:none}
.vtitle a:hover{text-decoration:underline}
.chip{display:inline-flex;align-items:center;gap:4px;height:22px;padding:0 10px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);font-size:11px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.chip:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.chip:active{transform:translateY(1px)}
.chip.active{background:var(--ac-dim);border-color:var(--ac-bd);color:var(--ac)}
.tag{display:inline-flex;align-items:center;height:20px;padding:0 8px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0));color:var(--t2);font-size:10.5px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.tag:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.tag:active{transform:translateY(1px)}

/* History Page Styles */
.history-page{padding:0 0 20px}
.history-header{display:flex;align-items:center;gap:12px;margin-bottom:16px;padding:0 2px}
.history-search{flex:1;max-width:320px;display:flex;align-items:center;gap:8px;height:32px;padding:0 12px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));transition:border-color var(--dur-2),box-shadow var(--dur-2),background var(--dur-2)}
.history-search:focus-within{border-color:var(--ac-bd);box-shadow:0 0 0 3px var(--ac-dim);background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,0))}
.history-search .sico{font-size:12px}
.history-search input{flex:1;min-width:0;background:transparent;border:0;outline:0;color:var(--t0);font-size:12.5px}
.history-search input::placeholder{color:var(--t3)}
.history-actions{margin-left:auto}
.history-clear-btn{height:32px;padding:0 14px;border-radius:999px;border:1px solid rgba(248,113,113,.35);background:linear-gradient(180deg,rgba(248,113,113,.08),rgba(248,113,113,0));color:#f87171;font-size:12px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.history-clear-btn:hover{border-color:rgba(248,113,113,.55);background:linear-gradient(180deg,rgba(248,113,113,.12),rgba(248,113,113,0))}
.history-clear-btn:active{transform:translateY(1px)}
.history-tabs{display:flex;gap:8px;margin-bottom:16px;padding:0 2px}
.history-tab{height:30px;padding:0 14px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);font-size:12px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.history-tab:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.history-tab:active{transform:translateY(1px)}
.history-tab.active{background:var(--ac-dim);border-color:var(--ac-bd);color:var(--ac)}
.history-content{min-height:200px}
.history-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:14px}
.history-card{position:relative;border-radius:var(--r);border:1px solid var(--b0);background:var(--bg-2);overflow:hidden;cursor:pointer;transition:transform var(--dur-2) var(--ease-out),border-color var(--dur-2),box-shadow var(--dur-2),opacity var(--dur-2)}
.history-card:hover{transform:translateY(-2px);border-color:var(--b2);box-shadow:0 18px 60px rgba(0,0,0,.55)}
.history-card.adult{border-color:rgba(255,100,100,.25)}
.history-card.ecchi{border-color:rgba(255,180,100,.25)}
.history-card-thumb{aspect-ratio:16/9;background:var(--bg-0);position:relative;overflow:hidden}
.history-card-thumb img{width:100%;height:100%;object-fit:cover;transition:transform var(--dur-3) var(--ease-out),opacity var(--dur-2)}
.history-card:hover .history-card-thumb img{transform:scale(1.04)}
.history-card-thumb-placeholder{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:32px;color:var(--t3)}
.history-card-type{position:absolute;left:8px;top:8px;height:20px;padding:0 8px;border-radius:999px;background:rgba(9,11,16,.72);backdrop-filter:var(--blur);border:1px solid rgba(255,255,255,.12);font-size:11px;color:var(--t1);display:flex;align-items:center}
.history-card-meta{position:absolute;right:8px;bottom:8px;height:20px;padding:0 8px;border-radius:999px;background:rgba(9,11,16,.72);backdrop-filter:var(--blur);border:1px solid rgba(255,255,255,.12);font-size:10px;color:var(--t1);font-family:var(--font-mono)}
.history-card-delete{position:absolute;right:8px;top:8px;width:24px;height:24px;border-radius:6px;background:rgba(9,11,16,.72);backdrop-filter:var(--blur);border:1px solid rgba(255,255,255,.12);color:var(--t1);display:flex;align-items:center;justify-content:center;font-size:16px;line-height:1;cursor:pointer;opacity:0;transform:translateY(-4px);transition:opacity var(--dur-2),transform var(--dur-2),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.history-card:hover .history-card-delete{opacity:1;transform:translateY(0)}
.history-card-delete:hover{border-color:rgba(255,100,100,.5);color:#f87171;background:rgba(9,11,16,.9)}
.history-card-delete:active{transform:translateY(1px)}
.history-card-info{padding:10px 12px 12px}
.history-card-title{font-size:12px;font-weight:500;color:var(--t0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px}
.history-card-sub{font-size:11px;color:var(--t2);display:flex;align-items:center;gap:6px}
.history-card-author{color:var(--t1);cursor:pointer;transition:color var(--dur-1)}
.history-card-author:hover{color:var(--ac)}
.history-card-time{font-family:var(--font-mono);font-size:10.5px}
.history-loadmore{padding:20px 0;text-align:center}
.history-loadmore-btn{height:36px;padding:0 20px;border-radius:999px;border:1px solid var(--b1);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));color:var(--t1);font-size:12px;cursor:pointer;transition:transform var(--dur-1),border-color var(--dur-1),color var(--dur-1),background var(--dur-1)}
.history-loadmore-btn:hover{border-color:var(--b2);color:var(--t0);background:var(--bg-3)}
.history-loadmore-btn:active{transform:translateY(1px)}
