<!DOCTYPE html>
<html lang="zh-CN" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' https: data: blob:; media-src https: blob:; connect-src 'self' https://apiq.iwara.tv https://api.github.com;">
  <title>iwara</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app-bg"></div>
  <div class="app">
    <div class="titlebar">
      <div class="traf">
        <div class="traf-dot cl" data-action="close" role="button" tabindex="0" aria-label="关闭" title="关闭"></div>
        <div class="traf-dot mn" data-action="minimize" role="button" tabindex="0" aria-label="最小化" title="最小化"></div>
        <div class="traf-dot mx" data-action="maximize" role="button" tabindex="0" aria-label="最大化" title="最大化"></div>
      </div>
      <div class="tb-mid">iwara</div>
      <div class="tb-right">
        <div class="tb-pill" id="themeBtn" role="button" tabindex="0" aria-label="切换配色">blue</div>
        <div class="tb-pill" id="updateBtn" role="button" tabindex="0" aria-label="更新">更新</div>
      </div>
    </div>

    <div class="body">
      <nav class="sidebar" id="sb">
        <div class="sb-tog" id="sbTog" role="button" tabindex="0" aria-label="展开或收起侧边栏">‹</div>

        <div class="sb-account" id="accountBtn" role="button" tabindex="0" aria-label="账户">
          <div class="sb-av">G</div>
          <div class="sb-acc-info">
            <div class="sb-acc-name">Guest</div>
            <div class="sb-acc-sub">点击登录</div>
          </div>
          <span class="sb-acc-arr">›</span>
        </div>

        <div class="sb-nav">
          <div class="sb-item active" data-page="home" role="button" tabindex="0" aria-label="推荐">
            <div class="sb-ico">⊞</div><div class="sb-lbl">推荐</div>
          </div>
          <div class="sb-item" data-page="video" role="button" tabindex="0" aria-label="视频">
            <div class="sb-ico">▷</div><div class="sb-lbl">视频</div>
          </div>
          <div class="sb-item" data-page="image" role="button" tabindex="0" aria-label="图片">
            <div class="sb-ico">◫</div><div class="sb-lbl">图片</div>
          </div>
          <div class="sb-item" data-page="forum" role="button" tabindex="0" aria-label="论坛">
            <div class="sb-ico">◎</div><div class="sb-lbl">论坛</div>
          </div>
          <div class="sb-item" data-page="search" role="button" tabindex="0" aria-label="搜索">
            <div class="sb-ico">◌</div><div class="sb-lbl">搜索</div>
          </div>
          <div class="sb-item" data-page="create" role="button" tabindex="0" aria-label="创作">
            <div class="sb-ico">↑</div><div class="sb-lbl">创作</div>
          </div>
        </div>

        <div class="sb-foot">
          <div class="sb-item" id="ratingToggle" data-page-action="toggle-rating" role="button" tabindex="0" aria-label="评级过滤">
            <div class="sb-ico">⊘</div><div class="sb-lbl">评级过滤</div>
          </div>
          <div class="sb-item" data-page="settings" role="button" tabindex="0" aria-label="设置">
            <div class="sb-ico">⊙</div><div class="sb-lbl">设置</div>
          </div>
        </div>
      </nav>

      <div class="main">
        <div class="topbar">
          <div class="ico-btn hidden" id="topBackBtn" role="button" tabindex="0" aria-label="返回" title="返回">‹</div>
          <div class="page-title" id="ptitle">推荐</div>
          <div class="tb-actions">
            <div class="ico-btn" id="topImmersiveBtn" role="button" tabindex="0" aria-label="沉浸模式" title="沉浸模式">◫</div>
            <div class="ico-btn" id="topRefreshBtn" role="button" tabindex="0" aria-label="刷新" title="刷新">↻</div>
          </div>
        </div>

        <div id="subarea"></div>

        <div class="content" id="content"></div>
      </div>
    </div>

    <div class="statusbar">
      <div class="st"><div class="st-dot" id="netDot"></div><span id="netHost">iwara.tv</span></div>
      <div class="st-sep"></div>
      <div class="st" id="stlbl">推荐</div>
      <div class="st-sep"></div>
      <div class="st" id="stmsg" role="status" aria-live="polite">ready</div>
    </div>
  </div>

  <div class="rat-panel" id="ratPanel" data-glass="modal">
    <div class="rat-title">评级过滤</div>
    <div class="rat-row">
      <div class="rat-lbl"><div class="rat-dot" style="background:#4ade80"></div>General</div>
      <div class="toggle on" data-rating="general"></div>
    </div>
    <div class="rat-row">
      <div class="rat-lbl"><div class="rat-dot" style="background:#f59e0b"></div>Ecchi</div>
      <div class="toggle on" data-rating="ecchi"></div>
    </div>
    <div class="rat-row">
      <div class="rat-lbl"><div class="rat-dot" style="background:#f87171"></div>Adult</div>
      <div class="toggle" data-rating="adult"></div>
    </div>
    <div class="rat-note">全局生效，将影响列表请求。</div>
  </div>

  <div class="upd-panel" id="updPanel" data-glass="modal">
    <div class="upd-title">更新</div>
    <div class="upd-row"><span class="upd-k">当前版本</span><span class="upd-v" id="updCurVer">—</span></div>
    <div class="upd-row"><span class="upd-k">最新版本</span><span class="upd-v" id="updNewVer">—</span></div>
    <div class="upd-msg" id="updMsg">—</div>
    <div class="upd-actions">
      <button class="upd-btn" id="updCheckBtn">检查更新</button>
      <button class="upd-btn pri" id="updInstallBtn">重启安装</button>
    </div>
  </div>

  <script type="module" src="renderer.js"></script>
</body>
</html>
